<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Crawler] Recaptcha Solver | Ding's Coding Forge</title>
<meta name=keywords content="c#,selenium,recaptcha,buster"><meta name=description content="This post explores bypassing Google Recaptcha using Selenium and Chrome Extensions for automated web scraping and login automation. It covers setting up ChromeDriver, integrating the Buster Recaptcha Solver extension, and analyzing Recaptcha behavior using browser DevTools and network monitoring. The post also walks through developing a Recaptcha-solving bot in C# using Selenium, handling iframe navigation, token extraction, and retry mechanisms. Additionally, it discusses the limitations of automated Recaptcha solving, Google’s detection mechanisms, and the challenges of scaling such solutions."><meta name=author content="dingyu"><link rel=canonical href=https://dingyu.dev/en/posts/crawling-selenium-solver/><meta name=google-site-verification content="8XY1hI6NVxQIrN7bQbnX-9TG9HHFw5HOQmlb6vcsFdQ"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.678f9035c217c5346e0b3de5bdc9ebac02c53b0502219858f8653d8d181c97b3.css integrity="sha256-Z4+QNcIXxTRuCz3lvcnrrALFOwUCIZhY+GU9jRgcl7M=" rel="preload stylesheet" as=style><link rel=icon href=https://dingyu.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dingyu.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dingyu.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://dingyu.dev/apple-touch-icon.png><link rel=mask-icon href=https://dingyu.dev/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ko href=https://dingyu.dev/posts/crawling-selenium-solver/><link rel=alternate hreflang=en href=https://dingyu.dev/en/posts/crawling-selenium-solver/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-XH8830R9KK"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XH8830R9KK")}</script><meta property="og:url" content="https://dingyu.dev/en/posts/crawling-selenium-solver/"><meta property="og:site_name" content="Ding's Coding Forge"><meta property="og:title" content="[Crawler] Recaptcha Solver"><meta property="og:description" content="This post explores bypassing Google Recaptcha using Selenium and Chrome Extensions for automated web scraping and login automation. It covers setting up ChromeDriver, integrating the Buster Recaptcha Solver extension, and analyzing Recaptcha behavior using browser DevTools and network monitoring. The post also walks through developing a Recaptcha-solving bot in C# using Selenium, handling iframe navigation, token extraction, and retry mechanisms. Additionally, it discusses the limitations of automated Recaptcha solving, Google’s detection mechanisms, and the challenges of scaling such solutions."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-29T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-29T00:00:00+00:00"><meta property="article:tag" content="C#"><meta property="article:tag" content="Selenium"><meta property="article:tag" content="Recaptcha"><meta property="article:tag" content="Buster"><meta property="og:image" content="https://dingyu.dev/en/posts/crawling-selenium-solver/img/selenium.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dingyu.dev/en/posts/crawling-selenium-solver/img/selenium.png"><meta name=twitter:title content="[Crawler] Recaptcha Solver"><meta name=twitter:description content="This post explores bypassing Google Recaptcha using Selenium and Chrome Extensions for automated web scraping and login automation. It covers setting up ChromeDriver, integrating the Buster Recaptcha Solver extension, and analyzing Recaptcha behavior using browser DevTools and network monitoring. The post also walks through developing a Recaptcha-solving bot in C# using Selenium, handling iframe navigation, token extraction, and retry mechanisms. Additionally, it discusses the limitations of automated Recaptcha solving, Google’s detection mechanisms, and the challenges of scaling such solutions."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://dingyu.dev/en/posts/"},{"@type":"ListItem","position":2,"name":"[Crawler] Recaptcha Solver","item":"https://dingyu.dev/en/posts/crawling-selenium-solver/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Crawler] Recaptcha Solver","name":"[Crawler] Recaptcha Solver","description":"This post explores bypassing Google Recaptcha using Selenium and Chrome Extensions for automated web scraping and login automation. It covers setting up ChromeDriver, integrating the Buster Recaptcha Solver extension, and analyzing Recaptcha behavior using browser DevTools and network monitoring. The post also walks through developing a Recaptcha-solving bot in C# using Selenium, handling iframe navigation, token extraction, and retry mechanisms. Additionally, it discusses the limitations of automated Recaptcha solving, Google’s detection mechanisms, and the challenges of scaling such solutions.","keywords":["c#","selenium","recaptcha","buster"],"articleBody":"Before We Begin Purpose Automating login steps is one of the most common challenges in data scraping from the web. Some portal sites implement Google Recaptcha to block Selenium-based automation, and this post aims to bypass that. A secondary goal is to gain a deeper understanding of how ChromeDriver works under Selenium. While this project uses a Chrome extension, many paid Recaptcha solvers rely on real humans to solve captchas. This post investigates why that is the case. Basic Setup 1. Setting up ChromeDriver Check the version of Chrome browser you are using: Settings → About Chrome Download the ChromeDriver version that matches your browser: https://chromedriver.chromium.org/downloads -\u003e Download the driver version that supports your current Chrome version Or add as a dependency / NuGet package Automatically matching the ChromeDriver version with the installed browser version via code will be added in future enhancements.\n2. Download Buster: Recaptcha Solver Buster is a Chrome extension that solves Google’s Recaptcha using voice recognition and inputs the result automatically. Search “buster recaptcha” on Google and install the extension from the Chrome Web Store. You can configure the Speech service (Wit.ai by default and free to use). Google Speech-to-Text is also available and was reported in some articles to achieve a 97% pass rate. However, since Recaptcha is a Google service, it is likely that the same dataset was used to train the AI, and this speech service is paid, so we’ll skip it.\nUsing Wit.ai, Recaptcha could be solved in up to 8 retries. This will be an important issue explained further below.\n3. Extension Setup Selenium’s ChromeDriver() class provides an option called addExtension() for adding extensions.\naddExtension(String extensionPath) accepts the path to the .crx extension package file.\nIn Chrome, go to More Tools → Extensions or visit chrome://extensions Enable Developer Mode and remember the ID of the extension you want to use Unzip the extension and place it where it can be loaded by ChromeDriver (e.g., folder like 1.3.1_0) Typically located in Users-{Username}-AppData-Local-Google-Default-Extensions — find the folder using the extension ID. ! If AppData is hidden, manually enter \\AppData in the File Explorer path bar !\nAnalyzing Recaptcha on the Webpage via Browser Before writing any code, analyzing the webpage structure is crucial.\nWe’ll test with this URL: https://patrickhlauke.github.io/recaptcha/ — it always loads Recaptcha.\nPacket Monitoring with Fiddler If Recaptcha is enabled during login, the login page will return something like ex:needRecaptcha in the response. If needRecaptcha = true, Recaptcha solving becomes mandatory. A successful login POST request must include the Recaptcha token. Services offering Recaptcha API solve the captcha and return this token. Changes in the Browser First, focus on the top Recaptcha checkbox widget:\nIt includes a data-sitekey attribute — a unique identifier per site (site key) Recaptcha solve APIs use this sitekey to simulate solving and return tokens. Inside this div is an iframe, accessible using Selenium’s SwitchTo().Frame() From analysis, we found that Recaptcha success can be detected by checking if aria-checked=\"false\" becomes true This change is used as a checkpoint for scraping automation: This iframe also holds the Recaptcha token once solved Second, another iframe has the title recaptcha challenge expires in two minutes\nIf it’s your first captcha attempt, it might pass instantly. After repeated attempts, image/audio challenges appear here This is also where the Buster button lives Wit.ai often fails on the first few tries. You’ll need to hit the reload and Buster buttons until successful.\n! Google detects repetitive actions and may completely block Recaptcha for your IP. Hence, this is an experimental-only project !\nTo Code (C# Base) We design the flow based on the previous analysis:\nVisit login page → Check needRecaptcha = true? → Control browser with Selenium → Use Buster and reload button until checkbox is ticked → Extract token → Send POST login request\nWe’ll use MSTest as the testing framework.\nInstall Selenium.WebDriver via NuGet package\nCreate ChromeDriver\nChromeOptions _options = new ChromeOptions(); _options.AddExtension(@\"...path_to_.crx\"); ChromeDriver _driver = new ChromeDriver(_options); If using standalone ChromeDriver:\nChromeOptions _options = new ChromeOptions(); _options.AddExtension(@\"...path_to_.crx\"); ChromeDriver _driver = new ChromeDriver(@\"...path_to_chromedriver_folder\", _options); Extra: Use Chrome Profile for ChromeDriver If you can access a non-sensitive user profile, you can reuse it:\nClick profile picture in Chrome Continue without sign-in Create new profile Profile path: Users-{User}-AppData-Local-Google-Profile{X} Download Buster extension into that profile Set profile via ChromeOptions: ChromeOptions _options = new ChromeOptions(); _options.AddArgument(\"--user-data-dir=\" + @\"path_to_profile\"); _options.AddArgument(\"--profile-directory=ProfileNumber\"); ChromeDriver _driver = new ChromeDriver(_options); Warning: If Chrome is already running with this profile, Selenium will fail to open the browser\nUtility methods to check Recaptcha state: public static bool IsChecked(ChromeDriver driver) { return driver.FindElement(By.Id(\"recaptcha-anchor\")).GetAttribute(\"aria-checked\") == \"true\"; } public static bool IsExistByCss(ChromeDriver driver, string cssQuery) { try { driver.FindElement(By.CssSelector(cssQuery)); } catch { return false; } return true; } Check if captcha exists: if (IsExistByCss(_driver, \"iframe[title=\\\"reCAPTCHA\\\"]\")) Find two Recaptcha-related iframes: IWebElement first = _driver.FindElement(By.CssSelector(\"iframe[title=\\\"reCAPTCHA\\\"]\")); IWebElement second = _driver.FindElement(By.CssSelector(\"iframe[title=\\\"reCAPTCHA challenge expires in two minutes\\\"]\")); Switch to first iframe and click the checkbox: _driver.SwitchTo().Frame(first); var checkBox = _driver.FindElement(By.ClassName(\"recaptcha-checkbox\")); _driver.ExecuteScript(\"arguments[0].click()\", checkBox); Check if it passed: if (!IsChecked(_driver)) Retry with second iframe and click Buster button: _driver.SwitchTo().DefaultContent(); _driver.SwitchTo().Frame(second); _driver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(200); var busterHolder = _driver.FindElement(By.ClassName(\"help-button-holder\")); busterHolder.Click(); If not passed, refresh and try again: if (!IsChecked(_driver)) { _driver.SwitchTo().DefaultContent(); _driver.SwitchTo().Frame(second); _driver.FindElement(By.ClassName(\"rc-button-image\")).Click(); _driver.FindElement(By.ClassName(\"help-button-holder\")).Click(); } else { isChecked = true; break; } Extract token: if (isChecked) { _driver.SwitchTo().DefaultContent(); _driver.SwitchTo().Frame(second); _token = _driver.FindElement(By.Id(\"recaptcha-token\")).GetAttribute(\"value\"); return _token; } Improvements Through this project, I came to appreciate Google’s anti-bot intelligence.\nIf I had used the paid Google Speech-to-Text, the success rate would’ve been higher even under heavier traffic. However, since we used free tools, Recaptcha eventually flagged the automation and blocked us.\nRecaptcha v3 is known to detect cursor movement and behavior patterns — even if this project is enhanced, v3 may still detect it.\nThat’s why many Recaptcha solving APIs hire real humans to manually solve captchas and return the token.\nKey improvement areas:\nChromeDriver version must be manually matched with Chrome browser version Heavy traffic and repeated failures lead to Recaptcha ban Login must complete within 2 minutes of solving the captcha ","wordCount":"996","inLanguage":"en","image":"https://dingyu.dev/en/posts/crawling-selenium-solver/img/selenium.png","datePublished":"2022-06-29T00:00:00Z","dateModified":"2022-06-29T00:00:00Z","author":{"@type":"Person","name":"dingyu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dingyu.dev/en/posts/crawling-selenium-solver/"},"publisher":{"@type":"Organization","name":"Ding's Coding Forge","logo":{"@type":"ImageObject","url":"https://dingyu.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dingyu.dev/en/ accesskey=h title="Ding's Coding Forge (Alt + H)"><img src=https://dingyu.dev/apple-touch-icon.png alt aria-label=logo height=35>Ding's Coding Forge</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button><span class=nav-separator>|</span><div class=lang-select-dropdown><button class=lang-select-dropdown-trigger aria-label=Translations type=button><svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" width="24" height="18"><path d="M478.33 433.6l-90-218a22 22 0 00-40.67.0l-90 218a22 22 0 1040.67 16.79L316.66 406h102.67l18.33 44.39A22 22 0 00458 464a22 22 0 0020.32-30.4zM334.83 362 368 281.65 401.17 362z" fill="currentcolor"/><path d="M267.84 342.92a22 22 0 00-4.89-30.7c-.2-.15-15-11.13-36.49-34.73 39.65-53.68 62.11-114.75 71.27-143.49H330a22 22 0 000-44H214V70a22 22 0 00-44 0v20H54a22 22 0 000 44h197.25c-9.52 26.95-27.05 69.5-53.79 108.36-31.41-41.68-43.08-68.65-43.17-68.87a22 22 0 00-40.58 17c.58 1.38 14.55 34.23 52.86 83.93.92 1.19 1.83 2.35 2.74 3.51-39.24 44.35-77.74 71.86-93.85 80.74a22 22 0 1021.07 38.63c2.16-1.18 48.6-26.89 101.63-85.59 22.52 24.08 38 35.44 38.93 36.1a22 22 0 0030.75-4.9z" fill="currentcolor"/></svg></button><div class=lang-select-dropdown-content><a lang=ko href=https://dingyu.dev/ title=한국어 aria-label=한국어>한국어</a></div></div></div></div><ul id=menu><li><a href=https://dingyu.dev/en/about/ title=About><span>About</span></a></li><li><a href=https://dingyu.dev/en/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://dingyu.dev/en/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://dingyu.dev/en/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://dingyu.dev/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://dingyu.dev/en/>Home</a>&nbsp;»&nbsp;<a href=https://dingyu.dev/en/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">[Crawler] Recaptcha Solver</h1><div class=post-description>This post explores bypassing Google Recaptcha using Selenium and Chrome Extensions for automated web scraping and login automation. It covers setting up ChromeDriver, integrating the Buster Recaptcha Solver extension, and analyzing Recaptcha behavior using browser DevTools and network monitoring. The post also walks through developing a Recaptcha-solving bot in C# using Selenium, handling iframe navigation, token extraction, and retry mechanisms. Additionally, it discusses the limitations of automated Recaptcha solving, Google’s detection mechanisms, and the challenges of scaling such solutions.</div><div class=post-meta><span title='2022-06-29 00:00:00 +0000 UTC'>June 29, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;996 words&nbsp;·&nbsp;dingyu&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://dingyu.dev/posts/crawling-selenium-solver/>Ko</a></li></ul>&nbsp;|&nbsp;<a href=https://github.com/dings-things/blog/tree/main/content/posts/crawling-selenium-solver/index.en.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://dingyu.dev/img/selenium.png alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#before-we-begin aria-label="Before We Begin">Before We Begin</a><ul><li><a href=#purpose aria-label=Purpose>Purpose</a></li><li><a href=#basic-setup aria-label="Basic Setup">Basic Setup</a><ul><li><a href=#1-setting-up-chromedriver aria-label="1. Setting up ChromeDriver">1. Setting up ChromeDriver</a></li><li><a href=#2-download-buster-recaptcha-solver aria-label="2. Download Buster: Recaptcha Solver">2. Download Buster: Recaptcha Solver</a></li><li><a href=#3-extension-setup aria-label="3. Extension Setup">3. Extension Setup</a></li></ul></li></ul></li><li><a href=#analyzing-recaptcha-on-the-webpage-via-browser aria-label="Analyzing Recaptcha on the Webpage via Browser">Analyzing Recaptcha on the Webpage via Browser</a><ul><ul><li><a href=#packet-monitoring-with-fiddler aria-label="Packet Monitoring with Fiddler">Packet Monitoring with Fiddler</a></li><li><a href=#changes-in-the-browser aria-label="Changes in the Browser">Changes in the Browser</a></li></ul></ul></li><li><a href=#to-code-c-base aria-label="To Code (C# Base)">To Code (C# Base)</a><ul><ul><li><a href=#extra-use-chrome-profile-for-chromedriver aria-label="Extra: Use Chrome Profile for ChromeDriver">Extra: Use Chrome Profile for ChromeDriver</a></li></ul><li><a href=#improvements aria-label=Improvements>Improvements</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=before-we-begin>Before We Begin<a hidden class=anchor aria-hidden=true href=#before-we-begin>#</a></h2><h3 id=purpose>Purpose<a hidden class=anchor aria-hidden=true href=#purpose>#</a></h3><ul><li>Automating login steps is one of the most common challenges in data scraping from the web. Some portal sites implement Google Recaptcha to block Selenium-based automation, and this post aims to bypass that.</li><li>A secondary goal is to gain a deeper understanding of how ChromeDriver works under Selenium.</li><li>While this project uses a Chrome extension, many paid Recaptcha solvers rely on real humans to solve captchas. This post investigates why that is the case.</li></ul><h3 id=basic-setup>Basic Setup<a hidden class=anchor aria-hidden=true href=#basic-setup>#</a></h3><h4 id=1-setting-up-chromedriver>1. Setting up ChromeDriver<a hidden class=anchor aria-hidden=true href=#1-setting-up-chromedriver>#</a></h4><ul><li>Check the version of Chrome browser you are using: Settings → About Chrome
<img loading=lazy src=/posts/crawling-selenium-solver/image.png></li><li>Download the ChromeDriver version that matches your browser: <a href=https://chromedriver.chromium.org/downloads>https://chromedriver.chromium.org/downloads</a>
-> Download the driver version that supports your current Chrome version
Or add as a dependency / NuGet package
<img loading=lazy src=/posts/crawling-selenium-solver/image-1.png></li></ul><p>Automatically matching the ChromeDriver version with the installed browser version via code will be added in future enhancements.</p><h4 id=2-download-buster-recaptcha-solver>2. Download Buster: Recaptcha Solver<a hidden class=anchor aria-hidden=true href=#2-download-buster-recaptcha-solver>#</a></h4><ul><li>Buster is a Chrome extension that solves Google&rsquo;s Recaptcha using voice recognition and inputs the result automatically.</li><li>Search &ldquo;buster recaptcha&rdquo; on Google and install the extension from the Chrome Web Store.
<img loading=lazy src=/posts/crawling-selenium-solver/image-2.png></li></ul><p>You can configure the Speech service (Wit.ai by default and free to use). Google Speech-to-Text is also available and was reported in some articles to achieve a 97% pass rate. However, since Recaptcha is a Google service, it is likely that the same dataset was used to train the AI, and this speech service is <strong>paid</strong>, so we’ll skip it.</p><p>Using Wit.ai, Recaptcha could be solved in up to 8 retries. This will be an important issue explained further below.</p><h4 id=3-extension-setup>3. Extension Setup<a hidden class=anchor aria-hidden=true href=#3-extension-setup>#</a></h4><ul><li><p>Selenium&rsquo;s <code>ChromeDriver()</code> class provides an option called <code>addExtension()</code> for adding extensions.</p></li><li><p><code>addExtension(String extensionPath)</code> accepts the path to the <code>.crx</code> extension package file.</p></li><li><p>In Chrome, go to More Tools → Extensions or visit <code>chrome://extensions</code>
<img loading=lazy src=/posts/crawling-selenium-solver/image-3.png></p></li><li><p>Enable Developer Mode and remember the ID of the extension you want to use
<img loading=lazy src=/posts/crawling-selenium-solver/image-4.png></p></li><li><p>Unzip the extension and place it where it can be loaded by ChromeDriver (e.g., folder like <code>1.3.1_0</code>)
<img loading=lazy src=/posts/crawling-selenium-solver/image-5.png>
Typically located in <code>Users-{Username}-AppData-Local-Google-Default-Extensions</code> — find the folder using the extension ID.
<strong>! If AppData is hidden, manually enter \AppData in the File Explorer path bar !</strong></p></li></ul><h2 id=analyzing-recaptcha-on-the-webpage-via-browser>Analyzing Recaptcha on the Webpage via Browser<a hidden class=anchor aria-hidden=true href=#analyzing-recaptcha-on-the-webpage-via-browser>#</a></h2><p>Before writing any code, analyzing the webpage structure is crucial.</p><p>We&rsquo;ll test with this URL: <a href=https://patrickhlauke.github.io/recaptcha/>https://patrickhlauke.github.io/recaptcha/</a> — it always loads Recaptcha.</p><h4 id=packet-monitoring-with-fiddler>Packet Monitoring with Fiddler<a hidden class=anchor aria-hidden=true href=#packet-monitoring-with-fiddler>#</a></h4><ul><li>If Recaptcha is enabled during login, the login page will return something like <code>ex:needRecaptcha</code> in the response.</li><li>If <strong>needRecaptcha = true</strong>, Recaptcha solving becomes mandatory.</li><li>A successful login <code>POST</code> request must include the Recaptcha token. Services offering Recaptcha API solve the captcha and return this token.</li></ul><h4 id=changes-in-the-browser>Changes in the Browser<a hidden class=anchor aria-hidden=true href=#changes-in-the-browser>#</a></h4><p>First, focus on the top Recaptcha checkbox widget:</p><ul><li>It includes a <code>data-sitekey</code> attribute — a unique identifier per site (<strong>site key</strong>)</li><li>Recaptcha solve APIs use this sitekey to simulate solving and return tokens.</li><li>Inside this div is an iframe, accessible using Selenium’s <code>SwitchTo().Frame()</code></li><li>From analysis, we found that Recaptcha success can be detected by checking if <code>aria-checked="false"</code> becomes <code>true</code>
<img loading=lazy src=/posts/crawling-selenium-solver/image-6.png></li></ul><p>This change is used as a checkpoint for scraping automation:
<img loading=lazy src=/posts/crawling-selenium-solver/image-7.png></p><ul><li>This iframe also holds the Recaptcha token once solved</li></ul><p>Second, another iframe has the title <code>recaptcha challenge expires in two minutes</code></p><ul><li><p>If it’s your first captcha attempt, it might pass instantly. After repeated attempts, image/audio challenges appear here
<img loading=lazy src=/posts/crawling-selenium-solver/image-8.png></p></li><li><p>This is also where the Buster button lives
<img loading=lazy src=/posts/crawling-selenium-solver/image-9.png></p></li><li><p>Wit.ai often fails on the first few tries. You’ll need to hit the reload and Buster buttons until successful.</p></li></ul><p><strong>! Google detects repetitive actions and may completely block Recaptcha for your IP. Hence, this is an experimental-only project !</strong></p><h2 id=to-code-c-base>To Code (C# Base)<a hidden class=anchor aria-hidden=true href=#to-code-c-base>#</a></h2><p>We design the flow based on the previous analysis:</p><blockquote><p><strong>Visit login page → Check needRecaptcha = true? →
Control browser with Selenium → Use Buster and reload button until checkbox is ticked →
Extract token → Send POST login request</strong></p></blockquote><p>We’ll use MSTest as the testing framework.</p><ol><li><p>Install <code>Selenium.WebDriver</code> via NuGet package</p></li><li><p>Create ChromeDriver</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>ChromeOptions</span> <span class=n>_options</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ChromeOptions</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>_options</span><span class=p>.</span><span class=n>AddExtension</span><span class=p>(</span><span class=s>@&#34;...path_to_.crx&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>ChromeDriver</span> <span class=n>_driver</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ChromeDriver</span><span class=p>(</span><span class=n>_options</span><span class=p>);</span>
</span></span></code></pre></div><p>If using standalone ChromeDriver:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>ChromeOptions</span> <span class=n>_options</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ChromeOptions</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>_options</span><span class=p>.</span><span class=n>AddExtension</span><span class=p>(</span><span class=s>@&#34;...path_to_.crx&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>ChromeDriver</span> <span class=n>_driver</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ChromeDriver</span><span class=p>(</span><span class=s>@&#34;...path_to_chromedriver_folder&#34;</span><span class=p>,</span> <span class=n>_options</span><span class=p>);</span>
</span></span></code></pre></div><h4 id=extra-use-chrome-profile-for-chromedriver>Extra: Use Chrome Profile for ChromeDriver<a hidden class=anchor aria-hidden=true href=#extra-use-chrome-profile-for-chromedriver>#</a></h4><p>If you can access a non-sensitive user profile, you can reuse it:</p><ol><li>Click profile picture in Chrome
<img loading=lazy src=/posts/crawling-selenium-solver/image-10.png></li><li>Continue without sign-in
<img loading=lazy src=/posts/crawling-selenium-solver/image-11.png></li><li>Create new profile
<img loading=lazy src=/posts/crawling-selenium-solver/image-12.png></li><li>Profile path: <code>Users-{User}-AppData-Local-Google-Profile{X}</code>
<img loading=lazy src=/posts/crawling-selenium-solver/image-13.png></li><li>Download Buster extension into that profile</li><li>Set profile via ChromeOptions:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>ChromeOptions</span> <span class=n>_options</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ChromeOptions</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>_options</span><span class=p>.</span><span class=n>AddArgument</span><span class=p>(</span><span class=s>&#34;--user-data-dir=&#34;</span> <span class=p>+</span> <span class=s>@&#34;path_to_profile&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>_options</span><span class=p>.</span><span class=n>AddArgument</span><span class=p>(</span><span class=s>&#34;--profile-directory=ProfileNumber&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>ChromeDriver</span> <span class=n>_driver</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ChromeDriver</span><span class=p>(</span><span class=n>_options</span><span class=p>);</span>
</span></span></code></pre></div><p><strong>Warning</strong>: If Chrome is already running with this profile, Selenium will fail to open the browser</p><ol start=3><li>Utility methods to check Recaptcha state:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>bool</span> <span class=n>IsChecked</span><span class=p>(</span><span class=n>ChromeDriver</span> <span class=n>driver</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>Id</span><span class=p>(</span><span class=s>&#34;recaptcha-anchor&#34;</span><span class=p>)).</span><span class=n>GetAttribute</span><span class=p>(</span><span class=s>&#34;aria-checked&#34;</span><span class=p>)</span> <span class=p>==</span> <span class=s>&#34;true&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>bool</span> <span class=n>IsExistByCss</span><span class=p>(</span><span class=n>ChromeDriver</span> <span class=n>driver</span><span class=p>,</span> <span class=kt>string</span> <span class=n>cssQuery</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span> <span class=n>driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>CssSelector</span><span class=p>(</span><span class=n>cssQuery</span><span class=p>));</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>catch</span> <span class=p>{</span> <span class=k>return</span> <span class=kc>false</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ol start=4><li>Check if captcha exists:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>IsExistByCss</span><span class=p>(</span><span class=n>_driver</span><span class=p>,</span> <span class=s>&#34;iframe[title=\&#34;reCAPTCHA\&#34;]&#34;</span><span class=p>))</span>
</span></span></code></pre></div><ol start=5><li>Find two Recaptcha-related iframes:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>IWebElement</span> <span class=n>first</span> <span class=p>=</span> <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>CssSelector</span><span class=p>(</span><span class=s>&#34;iframe[title=\&#34;reCAPTCHA\&#34;]&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>IWebElement</span> <span class=n>second</span> <span class=p>=</span> <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>CssSelector</span><span class=p>(</span><span class=s>&#34;iframe[title=\&#34;reCAPTCHA challenge expires in two minutes\&#34;]&#34;</span><span class=p>));</span>
</span></span></code></pre></div><ol start=6><li>Switch to first iframe and click the checkbox:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>Frame</span><span class=p>(</span><span class=n>first</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>checkBox</span> <span class=p>=</span> <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>ClassName</span><span class=p>(</span><span class=s>&#34;recaptcha-checkbox&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>_driver</span><span class=p>.</span><span class=n>ExecuteScript</span><span class=p>(</span><span class=s>&#34;arguments[0].click()&#34;</span><span class=p>,</span> <span class=n>checkBox</span><span class=p>);</span>
</span></span></code></pre></div><ol start=7><li>Check if it passed:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>if</span> <span class=p>(!</span><span class=n>IsChecked</span><span class=p>(</span><span class=n>_driver</span><span class=p>))</span>
</span></span></code></pre></div><ol start=8><li>Retry with second iframe and click Buster button:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>DefaultContent</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>Frame</span><span class=p>(</span><span class=n>second</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>_driver</span><span class=p>.</span><span class=n>Manage</span><span class=p>().</span><span class=n>Timeouts</span><span class=p>().</span><span class=n>ImplicitWait</span> <span class=p>=</span> <span class=n>TimeSpan</span><span class=p>.</span><span class=n>FromSeconds</span><span class=p>(</span><span class=m>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>busterHolder</span> <span class=p>=</span> <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>ClassName</span><span class=p>(</span><span class=s>&#34;help-button-holder&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>busterHolder</span><span class=p>.</span><span class=n>Click</span><span class=p>();</span>
</span></span></code></pre></div><ol start=9><li>If not passed, refresh and try again:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>if</span> <span class=p>(!</span><span class=n>IsChecked</span><span class=p>(</span><span class=n>_driver</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>DefaultContent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>     <span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>Frame</span><span class=p>(</span><span class=n>second</span><span class=p>);</span>
</span></span><span class=line><span class=cl>     <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>ClassName</span><span class=p>(</span><span class=s>&#34;rc-button-image&#34;</span><span class=p>)).</span><span class=n>Click</span><span class=p>();</span>
</span></span><span class=line><span class=cl>     <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>ClassName</span><span class=p>(</span><span class=s>&#34;help-button-holder&#34;</span><span class=p>)).</span><span class=n>Click</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>isChecked</span> <span class=p>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ol start=10><li>Extract token:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>isChecked</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>DefaultContent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>_driver</span><span class=p>.</span><span class=n>SwitchTo</span><span class=p>().</span><span class=n>Frame</span><span class=p>(</span><span class=n>second</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>_token</span> <span class=p>=</span> <span class=n>_driver</span><span class=p>.</span><span class=n>FindElement</span><span class=p>(</span><span class=n>By</span><span class=p>.</span><span class=n>Id</span><span class=p>(</span><span class=s>&#34;recaptcha-token&#34;</span><span class=p>)).</span><span class=n>GetAttribute</span><span class=p>(</span><span class=s>&#34;value&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>_token</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><h3 id=improvements>Improvements<a hidden class=anchor aria-hidden=true href=#improvements>#</a></h3><p>Through this project, I came to appreciate Google&rsquo;s anti-bot intelligence.</p><p>If I had used the paid Google Speech-to-Text, the success rate would’ve been higher even under heavier traffic. However, since we used free tools, Recaptcha eventually flagged the automation and blocked us.</p><p>Recaptcha v3 is known to detect cursor movement and behavior patterns — even if this project is enhanced, v3 may still detect it.</p><p>That’s why many Recaptcha solving APIs hire real humans to manually solve captchas and return the token.</p><p>Key improvement areas:</p><blockquote><ol><li>ChromeDriver version must be manually matched with Chrome browser version</li><li>Heavy traffic and repeated failures lead to Recaptcha ban</li><li>Login must complete within 2 minutes of solving the captcha</li></ol></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://dingyu.dev/en/tags/c%23/>C#</a></li><li><a href=https://dingyu.dev/en/tags/selenium/>Selenium</a></li><li><a href=https://dingyu.dev/en/tags/recaptcha/>Recaptcha</a></li><li><a href=https://dingyu.dev/en/tags/buster/>Buster</a></li></ul><nav class=paginav><a class=prev href=https://dingyu.dev/en/posts/fastapi-convention/><span class=title>« Prev</span><br><span>[Python] FastAPI Convention</span></a></nav></footer><div id=giscus_thread><script src=https://giscus.app/client.js data-repo=dings-things/blog data-repo-id=R_kgDON9IuAw data-category=Announcements data-category-id=DIC_kwDON9IuA84CnTai data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ko data-loading=lazy crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://dingyu.dev/en/>Ding's Coding Forge</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
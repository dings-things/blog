<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z | Ding's Coding Forge</title>
<meta name=keywords content="go,project guide,good practice"><meta name=description content="Spring과 같이 규격화 되어 있지 않은 Go 언어에서 프로젝트를 구성하는 방법.. 피쳐 단위 개발 그리고 엔터프라이즈 App까지 설계에 대한 개략적인 사례를 소개함"><meta name=author content="dingyu"><link rel=canonical href=https://dingyu.dev/posts/gopher-con-2024-go-project-guide/><meta name=google-site-verification content="8XY1hI6NVxQIrN7bQbnX-9TG9HHFw5HOQmlb6vcsFdQ"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.e27650c63b614184e0a53cd99f9c1786874e85906dabc733988929727960aa8d.css integrity="sha256-4nZQxjthQYTgpTzZn5wXhodOhZBtq8czmIkpcnlgqo0=" rel="preload stylesheet" as=style><link rel=icon href=https://dingyu.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dingyu.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dingyu.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://dingyu.dev/apple-touch-icon.png><link rel=mask-icon href=https://dingyu.dev/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://dingyu.dev/posts/gopher-con-2024-go-project-guide/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-XH8830R9KK"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XH8830R9KK")}</script><meta property="og:url" content="https://dingyu.dev/posts/gopher-con-2024-go-project-guide/"><meta property="og:site_name" content="Ding's Coding Forge"><meta property="og:title" content="[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z"><meta property="og:description" content="Spring과 같이 규격화 되어 있지 않은 Go 언어에서 프로젝트를 구성하는 방법.. 피쳐 단위 개발 그리고 엔터프라이즈 App까지 설계에 대한 개략적인 사례를 소개함"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-05T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-05T00:00:00+00:00"><meta property="article:tag" content="Go"><meta property="article:tag" content="Project Guide"><meta property="article:tag" content="Good Practice"><meta property="og:image" content="https://dingyu.dev/posts/gopher-con-2024-go-project-guide/img/go-thumbnail.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dingyu.dev/posts/gopher-con-2024-go-project-guide/img/go-thumbnail.png"><meta name=twitter:title content="[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z"><meta name=twitter:description content="Spring과 같이 규격화 되어 있지 않은 Go 언어에서 프로젝트를 구성하는 방법.. 피쳐 단위 개발 그리고 엔터프라이즈 App까지 설계에 대한 개략적인 사례를 소개함"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://dingyu.dev/posts/"},{"@type":"ListItem","position":2,"name":"[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z","item":"https://dingyu.dev/posts/gopher-con-2024-go-project-guide/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z","name":"[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z","description":"Spring과 같이 규격화 되어 있지 않은 Go 언어에서 프로젝트를 구성하는 방법.. 피쳐 단위 개발 그리고 엔터프라이즈 App까지 설계에 대한 개략적인 사례를 소개함","keywords":["go","project guide","good practice"],"articleBody":" 작은 프로젝트 트래픽이 적다 → 사용자 풀이 확보되지 않음 기능이 단순하다 → 신규 서비스로 초기 유저 상태가 정의되지 않음 빠른 개발이 필요하다 → 신규 기능이지만 실험적으로 소수의 유저를 통해 가설 검증이 필요한 상태 간단한 CLI 인 경우 간단한 API 서버를 만드는 경우 단순하게 접근, 기본 라이브러리를 활용하여 API를 연동하여 작게 붙여나가는 방식\n기능 단위의 프로젝트 코드 패턴 Handler Struct (Class)을 활용한 DI 방식 Method 단위로 필요한 파라미터의 경우 → func input 파라미터 활용\nHTTP Handlerfunc에 DI를 주입하는 방식 내부에서 클로저를 사용하여 service DI를 참조할 수 있음\n간결하고 클로저 내부에 필요한 의존성만 포함할 수 있어서 테스트에 용이한 구조\n항목 장점 선택 기준 Handler - 복잡한 상태를 관리하기 쉬움- 의존성과 상태가 구조체 필드로 명시되어 명확함- 확장성 측면에서 관련 메서드를 쉽게 추가할 수 있음- 다른 인터페이스를 쉽게 구현할 수 있음- 복잡한 로직을 구조화할 수 있음 복잡한 비즈니스 로직, 많은 의존성, 상태 관리가 필요한 경우 HandlerFunc - 간단한 핸들러를 빠르게 작성 가능- 의존성 주입이 쉽고 클로저를 활용할 수 있음- 함수형 프로그래밍 가능, 함수 조합과 고차 함수 활용 용이- 빠른 프로토타이핑- 의존성 모킹이 쉬워 테스트 코드 작성이 용이 간단한 핸들러, 빠른 개발이 필요한 작은 App 혹은 마이크로서비스 엔터프라이즈 서비스를 위한 코드 패턴 Layered Architecture 적용 Presenter = Domain Model ↔ API Model Handler = API Model 서빙 HTTP/gRPC 요청 처리와 응답 생성에만 집중 프레젠테이션 계층(Handler)과 애플리케이션 계층(Usecase)이 명확히 구분됨 Usecase = 비즈니스 로직 수행 Service 또는 Repository를 의존성으로 받아 느슨한 결합 유지 → 말만 다르지 서비스인듯? 순수한 도메인 객체를 사용 → API Model 이나 Repository 모델을 사용하지 않음 (Service) = 비즈니스 로직 수행 Usecase의 복잡성이 증가하면 구분 → 여러 서비스에 의존적인 도메인 서비스가 있는 경우 서비스들을 분리 Usecase는 흐름 제어와 조정에 집중, Service는 구체적인 비즈니스 로직 구현에 집중 → xxxExecutor 패턴과 동일 Repository = Domain Model의 CRUD 담당 데이터 접근 로직만을 담당 상위 계층(Usecase 등)이 구체적인 저장 방식을 알 필요가 없음 도메인 모델을 반환, Repository가 도메인 계층에 의존하게 되어 의존성 역전 원칙을 따름 (Recorder) = DB Model 핸들링 주로 DB의 형태가 다양한 경우 (NoSQL, RDBMS… etc) 각 DB에 의존적인 로직을 구현 다른 DB 마이그레이션 시, recorder DI를 갈아끼우는 방식 채택 각 레이어에서의 테스트 코드 Mocking 라이브러리 counterfeiter를 사용\n특징 go mockery counterfeiter 목 생성 자동 목 생성이 간편하며 매개변수 설정이 용이 페이크 객체를 포함하여 좀 더 복잡한 시뮬레이션 가능 설정 용이성 단순하고 직관적인 설정 가능 복잡한 테스트 시나리오에 적합 테스트 유지보수 간단한 인터페이스에 적합 페이크 객체로 장기적인 테스트 유지보수 용이 적합한 상황 단순하고 독립적인 모듈 테스트 복잡한 구조와 다양한 응답이 필요한 테스트 모킹된 fakes 들은 fake가 속한 레이어에 포함 하더랍니다\n후기 Go 생태계에서 구조적으로 다양한 시도들이 있었지만 이렇다 할 만한 구조는 찾지 못하였는데 충분히 참고할 여지가 있는 구조인 것 같다 레이어드 아키텍처를 구현하기 위해 불필요한 데이터 type 변환이 발생하지 않을까? (ex. Presentation, Business, Data 각각 하나씩이라 해도 API 하나에 데이터 struct 3개를 사용해야함) service와 usecase를 나누는 기준은 service가 두개 이상이냐?에 따라 갈리는 듯 APM을 도입한다 했었는데 비용적인 측면은? → 모든 곳에서 APM을 적용하진 않는다, 비즈니스 크리티컬한 로직에 APM을 삽입하고 있다 ","wordCount":"475","inLanguage":"en","image":"https://dingyu.dev/posts/gopher-con-2024-go-project-guide/img/go-thumbnail.png","datePublished":"2024-11-05T00:00:00Z","dateModified":"2024-11-05T00:00:00Z","author":{"@type":"Person","name":"dingyu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dingyu.dev/posts/gopher-con-2024-go-project-guide/"},"publisher":{"@type":"Organization","name":"Ding's Coding Forge","logo":{"@type":"ImageObject","url":"https://dingyu.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dingyu.dev/ accesskey=h title="Ding's Coding Forge (Alt + H)"><img src=https://dingyu.dev/apple-touch-icon.png alt aria-label=logo height=35>Ding's Coding Forge</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://dingyu.dev/about/ title=About><span>About</span></a></li><li><a href=https://dingyu.dev/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://dingyu.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://dingyu.dev/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://dingyu.dev/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://dingyu.dev/>Home</a>&nbsp;»&nbsp;<a href=https://dingyu.dev/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">[Go] Gophercon 2024 - 고언어 프로젝트 가이드 A-Z</h1><div class=post-meta><span title='2024-11-05 00:00:00 +0000 UTC'>November 5, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;475 words&nbsp;·&nbsp;dingyu&nbsp;|&nbsp;<a href=https://github.com/dings-things/blog/tree/main/content/posts/gopher-con-2024-go-project-guide/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://dingyu.dev/img/go-thumbnail.png alt></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%ea%b0%84%eb%8b%a8%ed%95%9c-cli-%ec%9d%b8-%ea%b2%bd%ec%9a%b0 aria-label="간단한 CLI 인 경우">간단한 CLI 인 경우</a></li><li><a href=#%ea%b0%84%eb%8b%a8%ed%95%9c-api-%ec%84%9c%eb%b2%84%eb%a5%bc-%eb%a7%8c%eb%93%9c%eb%8a%94-%ea%b2%bd%ec%9a%b0 aria-label="간단한 API 서버를 만드는 경우">간단한 API 서버를 만드는 경우</a></li><li><a href=#%ea%b8%b0%eb%8a%a5-%eb%8b%a8%ec%9c%84%ec%9d%98-%ed%94%84%eb%a1%9c%ec%a0%9d%ed%8a%b8-%ec%bd%94%eb%93%9c-%ed%8c%a8%ed%84%b4 aria-label="기능 단위의 프로젝트 코드 패턴">기능 단위의 프로젝트 코드 패턴</a><ul><ul><li><a href=#handler-struct-class%ec%9d%84-%ed%99%9c%ec%9a%a9%ed%95%9c-di-%eb%b0%a9%ec%8b%9d aria-label="Handler Struct (Class)을 활용한 DI 방식">Handler Struct (Class)을 활용한 DI 방식</a></li><li><a href=#http-handlerfunc%ec%97%90-di%eb%a5%bc-%ec%a3%bc%ec%9e%85%ed%95%98%eb%8a%94-%eb%b0%a9%ec%8b%9d aria-label="HTTP Handlerfunc에 DI를 주입하는 방식">HTTP Handlerfunc에 DI를 주입하는 방식</a></li></ul></ul></li><li><a href=#%ec%97%94%ed%84%b0%ed%94%84%eb%9d%bc%ec%9d%b4%ec%a6%88-%ec%84%9c%eb%b9%84%ec%8a%a4%eb%a5%bc-%ec%9c%84%ed%95%9c-%ec%bd%94%eb%93%9c-%ed%8c%a8%ed%84%b4 aria-label=" 엔터프라이즈 서비스를 위한 코드 패턴"> 엔터프라이즈 서비스를 위한 코드 패턴</a></li><li><a href=#%ea%b0%81-%eb%a0%88%ec%9d%b4%ec%96%b4%ec%97%90%ec%84%9c%ec%9d%98-%ed%85%8c%ec%8a%a4%ed%8a%b8-%ec%bd%94%eb%93%9c aria-label="각 레이어에서의 테스트 코드">각 레이어에서의 테스트 코드</a></li><li><a href=#%ed%9b%84%ea%b8%b0 aria-label=후기>후기</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><ul><li>작은 프로젝트<ul><li>트래픽이 적다 → 사용자 풀이 확보되지 않음</li><li>기능이 단순하다 → 신규 서비스로 초기 유저 상태가 정의되지 않음</li><li>빠른 개발이 필요하다 → 신규 기능이지만 실험적으로 소수의 유저를 통해 가설 검증이 필요한 상태</li></ul></li></ul><h2 id=간단한-cli-인-경우>간단한 CLI 인 경우<a hidden class=anchor aria-hidden=true href=#간단한-cli-인-경우>#</a></h2><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image.png></p><h2 id=간단한-api-서버를-만드는-경우>간단한 API 서버를 만드는 경우<a hidden class=anchor aria-hidden=true href=#간단한-api-서버를-만드는-경우>#</a></h2><p>단순하게 접근, 기본 라이브러리를 활용하여 API를 연동하여 작게 붙여나가는 방식</p><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-1.png>
<img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-2.png></p><h2 id=기능-단위의-프로젝트-코드-패턴>기능 단위의 프로젝트 코드 패턴<a hidden class=anchor aria-hidden=true href=#기능-단위의-프로젝트-코드-패턴>#</a></h2><h4 id=handler-struct-class을-활용한-di-방식>Handler Struct (Class)을 활용한 DI 방식<a hidden class=anchor aria-hidden=true href=#handler-struct-class을-활용한-di-방식>#</a></h4><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-3.png></p><p>Method 단위로 필요한 파라미터의 경우 → func input 파라미터 활용</p><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-4.png></p><h4 id=http-handlerfunc에-di를-주입하는-방식>HTTP Handlerfunc에 DI를 주입하는 방식<a hidden class=anchor aria-hidden=true href=#http-handlerfunc에-di를-주입하는-방식>#</a></h4><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-5.png></p><p>내부에서 클로저를 사용하여 service DI를 참조할 수 있음</p><p>간결하고 클로저 내부에 필요한 의존성만 포함할 수 있어서 테스트에 용이한 구조</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>항목</td><td>장점</td><td>선택 기준</td></tr><tr><td>Handler</td><td>- 복잡한 상태를 관리하기 쉬움- 의존성과 상태가 구조체 필드로 명시되어 명확함- 확장성 측면에서 관련 메서드를 쉽게 추가할 수 있음- 다른 인터페이스를 쉽게 구현할 수 있음- 복잡한 로직을 구조화할 수 있음</td><td>복잡한 비즈니스 로직, 많은 의존성, 상태 관리가 필요한 경우</td></tr><tr><td>HandlerFunc</td><td>- 간단한 핸들러를 빠르게 작성 가능- 의존성 주입이 쉽고 클로저를 활용할 수 있음- 함수형 프로그래밍 가능, 함수 조합과 고차 함수 활용 용이- 빠른 프로토타이핑- 의존성 모킹이 쉬워 테스트 코드 작성이 용이</td><td>간단한 핸들러, 빠른 개발이 필요한 작은 App 혹은 마이크로서비스</td></tr></tbody></table><h2 id=엔터프라이즈-서비스를-위한-코드-패턴> 엔터프라이즈 서비스를 위한 코드 패턴<a hidden class=anchor aria-hidden=true href=#엔터프라이즈-서비스를-위한-코드-패턴>#</a></h2><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-6.png></p><p>Layered Architecture 적용
<img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-7.png>
<img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-8.png></p><ul><li>Presenter = Domain Model ↔  API Model </li><li>Handler = API Model 서빙<ul><li>HTTP/gRPC 요청 처리와 응답 생성에만 집중</li><li>프레젠테이션 계층(Handler)과 애플리케이션 계층(Usecase)이 명확히 구분됨</li></ul></li><li>Usecase = 비즈니스 로직 수행<ul><li>Service 또는 Repository를 의존성으로 받아 느슨한 결합 유지 → 말만 다르지 서비스인듯?</li><li>순수한 도메인 객체를 사용 → API Model 이나 Repository 모델을 사용하지 않음</li></ul></li><li>(Service) = 비즈니스 로직 수행<ul><li>Usecase의 복잡성이 증가하면 구분 → 여러 서비스에 의존적인 도메인 서비스가 있는 경우 서비스들을 분리</li><li>Usecase는 흐름 제어와 조정에 집중, Service는 구체적인 비즈니스 로직 구현에 집중 → xxxExecutor 패턴과 동일</li></ul></li><li>Repository = Domain Model의 CRUD 담당<ul><li>데이터 접근 로직만을 담당</li><li>상위 계층(Usecase 등)이 구체적인 저장 방식을 알 필요가 없음</li><li>도메인 모델을 반환, Repository가 도메인 계층에 의존하게 되어 의존성 역전 원칙을 따름</li></ul></li><li>(Recorder) = DB Model 핸들링<ul><li>주로 DB의 형태가 다양한 경우 (NoSQL, RDBMS&mldr; etc) 각 DB에 의존적인 로직을 구현</li><li>다른 DB 마이그레이션 시, recorder DI를 갈아끼우는 방식 채택</li></ul></li></ul><h2 id=각-레이어에서의-테스트-코드>각 레이어에서의 테스트 코드<a hidden class=anchor aria-hidden=true href=#각-레이어에서의-테스트-코드>#</a></h2><p>Mocking 라이브러리 counterfeiter를 사용</p><table><thead><tr><th>특징</th><th>go mockery</th><th>counterfeiter</th></tr></thead><tbody><tr><td>목 생성</td><td>자동 목 생성이 간편하며 매개변수 설정이 용이</td><td>페이크 객체를 포함하여 좀 더 복잡한 시뮬레이션 가능</td></tr><tr><td>설정 용이성</td><td>단순하고 직관적인 설정 가능</td><td>복잡한 테스트 시나리오에 적합</td></tr><tr><td>테스트 유지보수</td><td>간단한 인터페이스에 적합</td><td>페이크 객체로 장기적인 테스트 유지보수 용이</td></tr><tr><td>적합한 상황</td><td>단순하고 독립적인 모듈 테스트</td><td>복잡한 구조와 다양한 응답이 필요한 테스트</td></tr></tbody></table><p><img loading=lazy src=/posts/gopher-con-2024-go-project-guide/image-9.png></p><p>모킹된 fakes 들은 fake가 속한 레이어에 포함 하더랍니다</p><h2 id=후기>후기<a hidden class=anchor aria-hidden=true href=#후기>#</a></h2><ul><li>Go 생태계에서 구조적으로 다양한 시도들이 있었지만 이렇다 할 만한 구조는 찾지 못하였는데 충분히 참고할 여지가 있는 구조인 것 같다</li><li>레이어드 아키텍처를 구현하기 위해 불필요한 데이터 type 변환이 발생하지 않을까? (ex. Presentation, Business, Data 각각 하나씩이라 해도 API 하나에 데이터 struct 3개를 사용해야함)</li><li>service와 usecase를 나누는 기준은 service가 두개 이상이냐?에 따라 갈리는 듯</li><li>APM을 도입한다 했었는데 비용적인 측면은? → 모든 곳에서 APM을 적용하진 않는다, 비즈니스 크리티컬한 로직에 APM을 삽입하고 있다</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://dingyu.dev/tags/go/>Go</a></li><li><a href=https://dingyu.dev/tags/project-guide/>Project Guide</a></li><li><a href=https://dingyu.dev/tags/good-practice/>Good Practice</a></li></ul><nav class=paginav><a class=prev href=https://dingyu.dev/posts/gopher-con-2024-minimalistic-go/><span class=title>« Prev</span><br><span>[Go] Gophercon 2024 - Building Minimalistic Backend Microservice in Go</span>
</a><a class=next href=https://dingyu.dev/posts/gopher-con-2024-kubernetes-programing/><span class=title>Next »</span><br><span>[Go] Gophercon 2024 - 쿠버네티스 플랫폼 프로그래밍</span></a></nav></footer><div id=giscus_thread><script src=https://giscus.app/client.js data-repo=dings-things/blog data-repo-id=R_kgDON9IuAw data-category=Announcements data-category-id=DIC_kwDON9IuA84CnTai data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=ko data-loading=lazy crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://dingyu.dev/>Ding's Coding Forge</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>